<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Hub Pedagógico</title>
    <link rel="icon" type="image/png" href="https://res.cloudinary.com/dqfi22uz0/image/upload/v1749543469/SLAP_FAVICON_AMARELO_coilvj.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'DM Sans', sans-serif;
            background-color: #f8fafc; /* stone-50 */
        }

        /* Animação de entrada para o card */
        @keyframes fadeInSlideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .animate-fadeInSlideUp {
            animation: fadeInSlideUp 0.7s ease-out forwards;
        }

        /* Animação de "tremor" para feedback de erro */
        @keyframes shake {
            10%, 90% { transform: translateX(-1px); }
            20%, 80% { transform: translateX(2px); }
            30%, 50%, 70% { transform: translateX(-4px); }
            40%, 60% { transform: translateX(4px); }
        }
        .animate-shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
    </style>
</head>
<body>

    <div class="min-h-screen flex flex-col items-center justify-center p-4">
        
        <div id="login-card" class="w-full max-w-sm animate-fadeInSlideUp">
            <img src="https://res.cloudinary.com/dqfi22uz0/image/upload/v1749349751/DBB440C2-684E-4DCF-9CD3-B2DDC18F1E53_3_vgocga.jpg" alt="SLAP Logo" class="w-24 h-auto mx-auto mb-4 rounded-lg shadow-md">
            
            <div class="bg-white p-8 rounded-2xl shadow-xl border border-stone-200">
                <h1 class="text-2xl font-bold text-stone-800 mb-2 text-center">Bem-vindo(a) de volta!</h1>
                <p class="text-stone-500 text-sm mb-6 text-center">Acesse sua conta para continuar.</p>
                
                <form id="login-form">
                    <!-- Campo de E-mail com Ícone -->
                    <div class="mb-4 relative">
                        <label for="username" class="hidden">E-mail</label>
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                             <svg class="w-5 h-5 text-stone-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
                            </svg>
                        </div>
                        <input type="text" id="username" name="username" required placeholder="Seu e-mail"
                               class="w-full pl-10 pr-3 py-2.5 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F1D24B] transition-shadow">
                    </div>
                    
                    <!-- Campo de Senha com Ícone -->
                    <div class="mb-6 relative">
                        <label for="password" class="hidden">Senha</label>
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <svg class="w-5 h-5 text-stone-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" />
                            </svg>
                        </div>
                        <input type="password" id="password" name="password" required placeholder="Sua senha"
                               class="w-full pl-10 pr-10 py-2.5 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F1D24B] transition-shadow">
                        
                        <!-- Botão para alternar visibilidade -->
                        <button type="button" id="toggle-password" class="absolute inset-y-0 right-0 px-3 flex items-center text-stone-500 hover:text-stone-700 focus:outline-none">
                            <svg id="eye-icon" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                            <svg id="eye-off-icon" class="h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228" /></svg>
                        </button>
                    </div>
                    
                    <div id="error-message" class="text-red-600 text-sm text-center mb-4 h-5" style="display: none;">
                        E-mail ou senha inválidos. Tente novamente.
                    </div>

                    <button type="submit"
                            class="w-full bg-[#F1D24B] hover:bg-yellow-400 text-stone-800 font-bold py-3 px-4 rounded-lg transition-all duration-300 ease-in-out transform hover:scale-105 shadow-md hover:shadow-lg">
                        Entrar
                    </button>
                </form>
            </div>
             <p class="text-center text-xs text-stone-400 mt-6">&copy; 2024 SLAP Inglês. Todos os direitos reservados.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const allowedUsers = {
                "aleff@slapingles.com": { password: "Aleff1105*", role: "admin", name: "Aleff Rodrigues" },
                "rodrigo@slapingles.com": { password: "12345*", role: "coordenador", name: "Rodrigo" },
                "leticia@slapingles.com": { password: "12345*", role: "coordenador", name: "Letícia Laganaro" },
                "victor@slapingles.com": { password: "12345*", role: "professor", name: "Victor Teixeira" },
                "felipe@slapingles.com": { password: "12345*", role: "professor", name: "Felipe Carnelós" },
                "areli@slapingles.com": { password: "12345*", role: "professor", name: "Areli Nunes" },
                "jaynni@slapingles.com": { password: "12345*", role: "professor", name: "Jaynni Nascimento" },
                "anael@slapingles.com": { password: "12345*", role: "professor", name: "Anael D Castilho" },
                "gabriella@slapingles.com": { password: "12345*", role: "professor", name: "Gabriella" }
            };

            const loginForm = document.getElementById('login-form');
            const errorMessage = document.getElementById('error-message');
            const passwordInput = document.getElementById('password');
            const togglePasswordButton = document.getElementById('toggle-password');
            const eyeIcon = document.getElementById('eye-icon');
            const eyeOffIcon = document.getElementById('eye-off-icon');
            const loginCard = document.getElementById('login-card');

            // Lógica para mostrar/ocultar senha
            if (togglePasswordButton) {
                togglePasswordButton.addEventListener('click', () => {
                    const isPassword = passwordInput.type === 'password';
                    passwordInput.type = isPassword ? 'text' : 'password';
                    eyeIcon.classList.toggle('hidden');
                    eyeOffIcon.classList.toggle('hidden');
                });
            }

            // Lógica do formulário de login
            if (loginForm) {
                loginForm.addEventListener('submit', (event) => {
                    event.preventDefault(); 
                    errorMessage.style.display = 'none';

                    const username = loginForm.username.value.trim();
                    const password = loginForm.password.value.trim();
                    const user = allowedUsers[username];

                    if (user && user.password === password) {
                        sessionStorage.setItem('loggedInUser', JSON.stringify({
                            username: username,
                            role: user.role,
                            name: user.name
                        }));
                        window.location.href = 'hub.html'; 
                    } else {
                        errorMessage.style.display = 'block';
                        loginCard.classList.add('animate-shake');

                        // Remove a classe da animação para que possa ser reativada
                        loginCard.addEventListener('animationend', () => {
                            loginCard.classList.remove('animate-shake');
                        }, { once: true });
                    }
                });
            }
        });
    </script>

</body>
</html>
